<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#F5E3DB" />
    <title>l-i.am</title>
    <link rel="stylesheet" href="{{ '/css/main.css' | url }}" />
</head>

<body>
    <main>
        <header>
            <div class="home-link">
                <img class="header-profile" src="/img/liam-ferguson.jpg" alt="Picture of Liam Ferguson" width="64">
                <a href="/">l-i.am</a>
            </div>
            <a class="nav-link shimmer" href="https://read.cv/lf" target="_blank">Read.cv <svg
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="12">
                    <path
                        d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z" />
                </svg></a>
        </header>

        {{ content}}

        <footer>
            <div class="right">
                <p class="small">Copyright <span id="year"></span> · Work In Progress</p>
            </div>
            <div class="right">
                <div id="currentlyWidget" class="currently-widget" tooltip="21:34 GMT · Probably Sleeping">😴</div>
            </div>
        </footer>
    </main>
</body>

<script>

    const date = new Date();
    const time = date.getUTCHours().toString().padStart(2, '0') + ':' + date.getUTCMinutes().toString().padStart(2, '0');
    const hour = date.getUTCHours();

    [...document.querySelectorAll('.shimmer')].forEach(function (item) {
        item.addEventListener('mousemove', function () {
            const { x, y } = item.getBoundingClientRect();
            item.style.setProperty("--x", event.clientX - x);
            item.style.setProperty("--y", event.clientY - y);
        });
    });

    document.getElementById("year").innerHTML = date.getFullYear()

    console.log(hour);

    if (hour < 7) {
        status = "Probably sleeping";
        statusEmoji = "😴";
    } else if (hour < 9) {
        status = "Probably walking";
        statusEmoji = "🌅";
    } else if (hour < 18) {
        status = "Probably working";
        statusEmoji = "👨‍💻";
    } else if (hour < 19) {
        status = "Probably cooking";
        statusEmoji = "👨‍🍳";
    } else if (hour < 21) {
        status = "Probably watching The X Files";
        statusEmoji = "🛸";
    } else if (hour < 24) {
        status = "Probably sleeping";
        statusEmoji = "😴";
    } else {
        status = "sadsa";
        statusEmoji = "dsfds";
    }

    document.getElementById("currentlyWidget").setAttribute("tooltip", time + ' · ' + status);

</script>

</html>